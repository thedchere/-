"use strict";!function(t){function e(t,e){this.opts=e,this.elem=t,this.Transition,this.reval=!1}function i(t){var e,i={};for(e in t){if(!t.hasOwnProperty(e))return;i[e]=t[e]}return i}t.fn.ScrollOnReveal=function(i){var o=t.extend({},this.ScrollOnReveal.defaults,i);return this.each((function(){new e(t(this),o).init()}))},t.fn.ScrollOnReveal.defaults={container:t(window),speed:1e3,reset:!0,delay:80,viewFactor:20,easing:"ease-in-out",animatedCss:{opacity:"1"},beforeCss:{opacity:"0"}},e.prototype={init:function(){var t=this;t.opts.container.on("scroll",t.doTransition.bind(this)),t.before()},doTransition:function(){var t=this;window.requestAnimationFrame((function(){t.transition()}))},elemOffsets:function(e){var i=void 0!==e?e.height():0,o=0,n=0;return"null"!==!t.type(e)&&void 0!==e&&(n+=(o+=e.offset().top)+i),{Top:o,Bottom:n,Height:i}},containerOffsets:function(e){var i,o,n=this.opts,s=0,r=0;return"null"!==t.type(e)&&void 0!==e?(o=e.height(),r+=(s+=e.scrollTop())+e.height()):(o=(i=n.container).height(),r+=(s+=i.scrollTop())+i.height()),{Top:s,Bottom:r,Height:o}},touchTarget:function(t){var e=this.opts,i=!1,o=!1,n=this.elemOffsets(t),s=this.containerOffsets(e.container),r=s.Top-n.Bottom;return n.Top+e.viewFactor<=s.Bottom&&(i=!0),(r+e.viewFactor>0||!i)&&(o=!0,i=!1),{Top:i,Reset:o}},before:function(e){var o,n=i(this.opts.beforeCss);o=void 0!==e?e:this.elem,t.isEmptyObject(n)||(o.css(n),function(e){var i=!1,o=!1;"null"!==t.type(e)&&(i="relative"===e.css("position"),o="absolute"===e.css("position"));return{relative:i,absolute:o}}(o).absolute,o.css("position","relative"))},transition:function(){var e=this.opts,o=this.elem,n={transition:"all "+e.easing+" "+e.speed/1e3+"s"},s=t.extend(e.animatedCss,n,{}),r=i(e.beforeCss),a=this.touchTarget(o);a.Top&&setTimeout((function(){o.eq(0).css(s)}),e.delay||1),a.Reset&&e.reset&&setTimeout((function(){o.eq(0).css(r)}),0)}}}(jQuery);